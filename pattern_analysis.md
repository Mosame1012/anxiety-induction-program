# 焦虑诱发程序分布模式分析报告

## 核心要求
- 总时长: 5-7分钟 (300-420秒)
- 刺激数量: 8-14个
- 间隔时间: 10-60秒

## 时间-刺激数量映射分析

| 总时间 | 理论最小刺激数 | 理论最大刺激数 | 实际建议范围 |
|--------|--------------|--------------|------------|
| 300秒(5分钟) | 4 | 20 | 8-14 |
| 360秒(6分钟) | 5 | 24 | 8-14 |
| 420秒(7分钟) | 6 | 28 | 8-14 |

说明:
- 理论最小刺激数: 假设所有间隔都是60秒(最大)
- 理论最大刺激数: 假设所有间隔都是10秒(最小)
- 实际建议范围: 同时满足8-14要求和时间约束

## 分布模式分析

### 已实现的模式(容易)

#### 1. 前密后疏
- **描述**: 前期密集(40-50%),中期过渡(30-35%),后期稀疏(20-25%)
- **测试结果**: 在大多数情况下成功率较高
- **适用场景**: 快速建立焦虑基线,后期减少刺激让焦虑持续但不确定
- **成功率**: 约90%

#### 2. 前疏后密
- **描述**: 前期稀疏(20-25%),中期过渡(30-35%),后期密集(40-50%)
- **测试结果**: 在某些情况下会出现间隔过小的问题
- **问题**: 当总时间较短或刺激数量较多时,后期的密集区会导致间隔<10秒
- **成功率**: 约75%
- **建议**: 需要调整参数或增加约束

#### 3. 均匀随机
- **描述**: 每个区块均匀分布(30-40%刺激)
- **测试结果**: 稳定性最好,成功率最高
- **适用场景**: 纯粹的不可预测性
- **成功率**: 约95%

### 难以实现的模式(待讨论)

#### 4. 中间密集
- **描述**: 前期稀疏(15-20%),中间密集(50-60%),后期稀疏(15-20%)
- **难以实现的原因**:
  - 在5-7分钟时间范围内,中间50%时间需要容纳50-60%的刺激
  - 例如: 10个刺激,300秒总时间,中间150秒需要5-6个刺激
  - 平均间隔: 150/6 = 25秒,但实际需要考虑刺激持续时间(5秒)
  - 实际可用间隔: 150 - 6×5 = 120秒,平均间隔: 120/5 = 24秒
  - 问题: 当刺激数量达到12-14个时,中间区需要6-8个刺激,间隔会降到10秒以下
- **建议参数调整**:
  - 降低中间区的刺激比例到40-50%
  - 或增加总时间到8分钟以上
  - 或减少最大刺激数量到10个

#### 5. 双峰密集
- **描述**: 两个密集区(各30-40%),两个稀疏区(各10-20%)
- **难以实现的原因**:
  - 需要两个密集区,每个30-40%刺激
  - 例如: 10个刺激,300秒总时间,每个密集区75秒需要3-4个刺激
  - 平均间隔: 75/4 = 18.75秒,考虑刺激持续时间后会更小
  - 问题: 当刺激数量达到12-14个时,密集区间隔会降到8-10秒以下
- **建议参数调整**:
  - 降低密集区的刺激比例到25-35%
  - 或增加总时间到8分钟以上
  - 或减少最大刺激数量到10个

## 当前测试结果

### 整体成功率: 85.71% (54/63测试通过)

### 按模式统计
- 前密后疏: 约90%
- 前疏后密: 约75%
- 均匀随机: 约95%

### 失败原因分析
- 主要失败原因: 间隔<10秒(大部分是5-9秒)
- 集中在: 前疏后密模式,特别是刺激数量较多(12-14个)时
- 影响: 9个测试失败,占总数的14.29%

## 建议方案

### 方案A: 保守方案(推荐)
- 保留当前3个容易实现的模式
- 删除或暂缓实现"中间密集"和"双峰密集"模式
- 优点: 成功率高,稳定可靠
- 缺点: 只有3种模式,多样性较少

### 方案B: 优化方案
- 优化"前疏后密"模式的参数
- 降低峰值到35-45%,避免间隔过小
- 优点: 提高成功率,保持4种模式
- 缺点: 可能会影响模式的特征

### 方案C: 扩展方案
- 将总时间扩展到6-8分钟
- 保持当前5种模式
- 优点: 所有模式都能实现
- 缺点: 增加实验时长

## 推荐决策

基于当前要求(5-7分钟,8-14个刺激,10-60秒间隔),推荐采用**方案A**:

1. **保留的模式**:
   - 前密后疏
   - 前疏后密(可考虑优化)
   - 均匀随机

2. **暂缓实现的模式**:
   - 中间密集(需要重新设计参数)
   - 双峰密集(需要重新设计参数)

3. **后续优化方向**:
   - 如果需要更多模式,可以考虑放宽时间要求到6-8分钟
   - 或者减少最大刺激数量到10-12个
   - 或者允许间隔范围扩大到8-60秒

## 附录: 失败案例详细分析

### 失败案例1: 前疏后密 - 14个刺激, 360秒
- 总时间: 360秒
- 刺激数: 14个
- 失败原因: 间隔5秒
- 分析: 后期45%的刺激(约6个)需要放在122秒内,导致间隔过小

### 失败案例2: 均匀随机 - 9个刺激, 360秒
- 总时间: 360秒
- 刺激数: 9个
- 失败原因: 间隔5秒
- 分析: 随机分配导致某个区块过于密集

### 失败案例3: 前疏后密 - 12个刺激, 300秒
- 总时间: 300秒
- 刺激数: 12个
- 失败原因: 间隔8秒
- 分析: 时间紧张,后期密集区难以满足间隔要求